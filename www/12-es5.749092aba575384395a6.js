!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/PSE":function(n,i,o){"use strict";o.r(i),o.d(i,"TaskSavePageModule",(function(){return w}));var a=o("tyNb"),r=o("mrSG"),s=o("3Pt+"),c=o("IzEk"),u=o("fXoL"),l=o("TEn/"),b=o("2tJE"),m=o("mK0T"),p=o("vsub"),f=o("ofXK");function d(t,e){1&t&&u.Jb(0,"ion-toggle",10)}var h,v,k,g=[{path:"",component:(h=function(){function n(e,i,o,a,r){t(this,n),this.fb=e,this.route=i,this.navCtrl=o,this.tasksService=a,this.overlayService=r,this.pageTitle="...",this.taskId=void 0}var i,o,a;return i=n,(o=[{key:"ngOnInit",value:function(){this.createForm(),this.init()}},{key:"init",value:function(){var t=this,e=this.route.snapshot.paramMap.get("id");e?(this.taskId=e,console.log("taskId: ",e),this.pageTitle="Edit Task",this.tasksService.get(e).pipe(Object(c.a)(1)).subscribe((function(e){var n=e.title,i=e.done;t.taskForm.get("title").setValue(n),t.taskForm.get("done").setValue(i)}))):this.pageTitle="Create Task"}},{key:"createForm",value:function(){this.taskForm=this.fb.group({title:["",[s.j.required,s.j.minLength(3)]],done:[!1]})}},{key:"onSubmit",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.overlayService.loading({message:"Saving..."});case 2:if(e=t.sent,t.prev=3,!this.taskId){t.next=10;break}return t.next=7,this.tasksService.update(Object.assign({id:this.taskId},this.taskForm.value));case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,this.tasksService.create(this.taskForm.value);case 12:t.t0=t.sent;case 13:n=t.t0,console.log("task saved: ",n),this.navCtrl.navigateBack("/tasks"),t.next=22;break;case 17:return t.prev=17,t.t1=t.catch(3),console.log("Error saving Task: ",t.t1),t.next=22,this.overlayService.toast({message:t.t1.message});case 22:return t.prev=22,e.dismiss(),t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[3,17,22,25]])})))}}])&&e(i.prototype,o),a&&e(i,a),n}(),h.\u0275fac=function(t){return new(t||h)(u.Ib(s.a),u.Ib(a.a),u.Ib(l.I),u.Ib(b.a),u.Ib(m.a))},h.\u0275cmp=u.Cb({type:h,selectors:[["app-task-save"]],decls:15,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","/tasks"],["slot","end","menu","main-menu"],["padding",""],[3,"formGroup","submit"],["name","newspaper-outline","slot","start","color","primary"],["type","text","placeholder","Title","autofocus","true","inputmode","text","formControlName","title"],["slot","end","color","primary","formControlName","done",4,"ngIf"],["expand","full","type","submit",3,"disabled"],["slot","end","color","primary","formControlName","done"]],template:function(t,e){1&t&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar",0),u.Nb(2,"ion-buttons",1),u.Jb(3,"ion-back-button",2),u.Mb(),u.Nb(4,"ion-title"),u.kc(5),u.Mb(),u.Jb(6,"app-logout-button",3),u.Mb(),u.Mb(),u.Nb(7,"ion-content",4),u.Nb(8,"form",5),u.Vb("submit",(function(){return e.onSubmit()})),u.Nb(9,"ion-item"),u.Jb(10,"ion-icon",6),u.Jb(11,"ion-input",7),u.ic(12,d,1,0,"ion-toggle",8),u.Mb(),u.Nb(13,"ion-button",9),u.kc(14,"Save"),u.Mb(),u.Mb(),u.Mb()),2&t&&(u.yb(5),u.lc(e.pageTitle),u.yb(3),u.cc("formGroup",e.taskForm),u.yb(4),u.cc("ngIf",e.taskId),u.yb(1),u.cc("disabled",e.taskForm.invalid))},directives:[l.l,l.D,l.f,l.c,l.d,l.B,p.a,l.h,s.k,s.h,s.d,l.o,l.m,l.n,l.L,s.g,s.c,f.j,l.e,l.C,l.b],styles:[""]}),h)}],y=((v=function e(){t(this,e)}).\u0275mod=u.Gb({type:v}),v.\u0275inj=u.Fb({factory:function(t){return new(t||v)},imports:[[a.i.forChild(g)],a.i]}),v),I=o("PCNd"),w=((k=function e(){t(this,e)}).\u0275mod=u.Gb({type:k}),k.\u0275inj=u.Fb({factory:function(t){return new(t||k)},imports:[[I.a,y]]}),k)}}])}();