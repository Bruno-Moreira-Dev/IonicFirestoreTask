!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{q4Kd:function(t,i,o){"use strict";o.r(i),o.d(i,"LoginPageModule",(function(){return F}));var r=o("tyNb"),a=o("mrSG"),c=o("3Pt+"),s=o("ZQoW"),u=o("fXoL"),b=o("7dP1"),l=o("TEn/"),m=o("mK0T"),h=o("ofXK");function f(n,e){1&n&&(u.Nb(0,"ion-note",18),u.kc(1,"Required"),u.Mb())}function d(n,e){1&n&&(u.Nb(0,"ion-note",18),u.kc(1,"Min 3 characters"),u.Mb())}function g(n,e){if(1&n&&(u.Lb(0),u.Nb(1,"ion-item"),u.Jb(2,"ion-icon",16),u.Jb(3,"ion-input",17),u.ic(4,f,2,0,"ion-note",9),u.ic(5,d,2,0,"ion-note",9),u.Mb(),u.Kb()),2&n){var t=u.Xb();u.yb(4),u.cc("ngIf",t.name.dirty&&t.name.hasError("required")),u.yb(1),u.cc("ngIf",t.name.dirty&&t.name.hasError("minlength"))}}function p(n,e){1&n&&(u.Nb(0,"ion-note",18),u.kc(1,"Required"),u.Mb())}function y(n,e){1&n&&(u.Nb(0,"ion-note",18),u.kc(1,"Invalid e-mail"),u.Mb())}function v(n,e){1&n&&(u.Nb(0,"ion-note",18),u.kc(1,"Required"),u.Mb())}function k(n,e){1&n&&(u.Nb(0,"ion-note",18),u.kc(1,"Min 6 characters"),u.Mb())}var w,I,N,M=[{path:"",component:(w=function(){function t(e,i,o,r,a){n(this,t),this.fb=e,this.authService=i,this.navCtrl=o,this.route=r,this.overlayService=a,this.authProviders=s.a,this.configs={isSignIn:!0,action:"Login",actionChange:"Create account"},this.nameControl=new c.b("",[c.j.required,c.j.minLength(3)])}var i,o,r;return i=t,(o=[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){this.authForm=this.fb.group({email:["",[c.j.required,c.j.email]],password:["",[c.j.required,c.j.minLength(6)]]})}},{key:"changeAuthAction",value:function(){this.configs.isSignIn=!this.configs.isSignIn;var n=this.configs.isSignIn;this.configs.action=n?"Login":"Sign Up",this.configs.actionChange=n?"Create account":"Already have an account",n?this.authForm.removeControl("name"):this.authForm.addControl("name",this.nameControl)}},{key:"onSubmit",value:function(n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.overlayService.loading();case 2:return t=e.sent,e.prev=3,e.next=6,this.authService.authenticate({isSignIn:this.configs.isSignIn,user:this.authForm.value,provider:n});case 6:this.navCtrl.navigateForward(this.route.snapshot.queryParamMap.get("redirect")||"/tasks"),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log("Auth error: "+e.t0),e.next=14,this.overlayService.toast({message:e.t0.message});case 14:return e.prev=14,t.dismiss(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,9,14,17]])})))}},{key:"name",get:function(){return this.authForm.get("name")}},{key:"email",get:function(){return this.authForm.get("email")}},{key:"password",get:function(){return this.authForm.get("password")}}])&&e(i.prototype,o),r&&e(i,r),t}(),w.\u0275fac=function(n){return new(n||w)(u.Ib(c.a),u.Ib(b.a),u.Ib(l.I),u.Ib(r.a),u.Ib(m.a))},w.\u0275cmp=u.Cb({type:w,selectors:[["app-login"]],decls:25,vars:9,consts:[["padding",""],["justify-content-center",""],["size-sm","8","size-md","4","size-lg","3","size-xl","3"],[1,"ion-text-center"],["name","checkmark-done-sharp","color","primary",1,"icon-7em"],[3,"formGroup","submit"],[4,"ngIf"],["name","mail","color","primary","slot","start"],["type","email","placeholder","E-mail","formControlName","email","inputmode","email","autofocus","true"],["slot","end","color","danger",4,"ngIf"],["name","lock-closed","color","primary","slot","start"],["type","password","placeholder","Password","formControlName","password"],["expand","block","type","submit",3,"disabled"],["expand","block","fill","clear",3,"click"],["expand","block",3,"click"],["name","logo-facebook","slot","start"],["name","person","color","primary","slot","start"],["type","text","placeholder","Name","formControlName","name"],["slot","end","color","danger"]],template:function(n,e){1&n&&(u.Nb(0,"ion-content",0),u.Nb(1,"ion-grid"),u.Nb(2,"ion-row",1),u.Nb(3,"ion-col",2),u.Nb(4,"h1",3),u.Jb(5,"ion-icon",4),u.Mb(),u.Nb(6,"form",5),u.Vb("submit",(function(){return e.onSubmit(e.authProviders.Email)})),u.ic(7,g,6,2,"ng-container",6),u.Nb(8,"ion-item"),u.Jb(9,"ion-icon",7),u.Jb(10,"ion-input",8),u.ic(11,p,2,0,"ion-note",9),u.ic(12,y,2,0,"ion-note",9),u.Mb(),u.Nb(13,"ion-item"),u.Jb(14,"ion-icon",10),u.Jb(15,"ion-input",11),u.ic(16,v,2,0,"ion-note",9),u.ic(17,k,2,0,"ion-note",9),u.Mb(),u.Nb(18,"ion-button",12),u.kc(19),u.Mb(),u.Mb(),u.Nb(20,"ion-button",13),u.Vb("click",(function(){return e.changeAuthAction()})),u.kc(21),u.Mb(),u.Nb(22,"ion-button",14),u.Vb("click",(function(){return e.onSubmit(e.authProviders.Facebook)})),u.Jb(23,"ion-icon",15),u.kc(24," Login with Facebook "),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb()),2&n&&(u.yb(6),u.cc("formGroup",e.authForm),u.yb(1),u.cc("ngIf",!e.configs.isSignIn),u.yb(4),u.cc("ngIf",e.email.dirty&&e.email.hasError("required")),u.yb(1),u.cc("ngIf",e.email.dirty&&e.email.hasError("email")),u.yb(4),u.cc("ngIf",e.password.dirty&&e.password.hasError("required")),u.yb(1),u.cc("ngIf",e.password.dirty&&e.password.hasError("minlength")),u.yb(1),u.cc("disabled",e.authForm.invalid),u.yb(1),u.lc(e.configs.action),u.yb(2),u.lc(e.configs.actionChange))},directives:[l.h,l.k,l.z,l.g,l.m,c.k,c.h,c.d,h.j,l.o,l.n,l.L,c.g,c.c,l.e,l.x],styles:[""]}),w)}],C=((I=function e(){n(this,e)}).\u0275mod=u.Gb({type:I}),I.\u0275inj=u.Fb({factory:function(n){return new(n||I)},imports:[[r.i.forChild(M)],r.i]}),I),S=o("PCNd"),F=((N=function e(){n(this,e)}).\u0275mod=u.Gb({type:N}),N.\u0275inj=u.Fb({factory:function(n){return new(n||N)},imports:[[S.a,C]]}),N)}}])}();