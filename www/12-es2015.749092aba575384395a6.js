(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/PSE":function(t,e,o){"use strict";o.r(e),o.d(e,"TaskSavePageModule",(function(){return g}));var i=o("tyNb"),s=o("mrSG"),a=o("3Pt+"),n=o("IzEk"),r=o("fXoL"),c=o("TEn/"),l=o("2tJE"),b=o("mK0T"),u=o("vsub"),d=o("ofXK");function m(t,e){1&t&&r.Jb(0,"ion-toggle",10)}const p=[{path:"",component:(()=>{class t{constructor(t,e,o,i,s){this.fb=t,this.route=e,this.navCtrl=o,this.tasksService=i,this.overlayService=s,this.pageTitle="...",this.taskId=void 0}ngOnInit(){this.createForm(),this.init()}init(){const t=this.route.snapshot.paramMap.get("id");t?(this.taskId=t,console.log("taskId: ",t),this.pageTitle="Edit Task",this.tasksService.get(t).pipe(Object(n.a)(1)).subscribe(({title:t,done:e})=>{this.taskForm.get("title").setValue(t),this.taskForm.get("done").setValue(e)})):this.pageTitle="Create Task"}createForm(){this.taskForm=this.fb.group({title:["",[a.j.required,a.j.minLength(3)]],done:[!1]})}onSubmit(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.overlayService.loading({message:"Saving..."});try{const e=this.taskId?yield this.tasksService.update(Object.assign({id:this.taskId},this.taskForm.value)):yield this.tasksService.create(this.taskForm.value);console.log("task saved: ",e),this.navCtrl.navigateBack("/tasks")}catch(e){console.log("Error saving Task: ",e),yield this.overlayService.toast({message:e.message})}finally{t.dismiss()}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(a.a),r.Ib(i.a),r.Ib(c.I),r.Ib(l.a),r.Ib(b.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-task-save"]],decls:15,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","/tasks"],["slot","end","menu","main-menu"],["padding",""],[3,"formGroup","submit"],["name","newspaper-outline","slot","start","color","primary"],["type","text","placeholder","Title","autofocus","true","inputmode","text","formControlName","title"],["slot","end","color","primary","formControlName","done",4,"ngIf"],["expand","full","type","submit",3,"disabled"],["slot","end","color","primary","formControlName","done"]],template:function(t,e){1&t&&(r.Nb(0,"ion-header"),r.Nb(1,"ion-toolbar",0),r.Nb(2,"ion-buttons",1),r.Jb(3,"ion-back-button",2),r.Mb(),r.Nb(4,"ion-title"),r.kc(5),r.Mb(),r.Jb(6,"app-logout-button",3),r.Mb(),r.Mb(),r.Nb(7,"ion-content",4),r.Nb(8,"form",5),r.Vb("submit",(function(){return e.onSubmit()})),r.Nb(9,"ion-item"),r.Jb(10,"ion-icon",6),r.Jb(11,"ion-input",7),r.ic(12,m,1,0,"ion-toggle",8),r.Mb(),r.Nb(13,"ion-button",9),r.kc(14,"Save"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(5),r.lc(e.pageTitle),r.yb(3),r.cc("formGroup",e.taskForm),r.yb(4),r.cc("ngIf",e.taskId),r.yb(1),r.cc("disabled",e.taskForm.invalid))},directives:[c.l,c.D,c.f,c.c,c.d,c.B,u.a,c.h,a.k,a.h,a.d,c.o,c.m,c.n,c.L,a.g,a.c,d.j,c.e,c.C,c.b],styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(p)],i.i]}),t})();var k=o("PCNd");let g=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[k.a,h]]}),t})()}}]);