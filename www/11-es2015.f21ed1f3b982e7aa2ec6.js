(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{q4Kd:function(n,o,i){"use strict";i.r(o),i.d(o,"LoginPageModule",(function(){return N}));var t=i("tyNb"),e=i("mrSG"),r=i("3Pt+"),a=i("ZQoW"),c=i("fXoL"),s=i("7dP1"),b=i("TEn/"),l=i("mK0T"),m=i("ofXK");function u(n,o){1&n&&(c.Nb(0,"ion-note",18),c.kc(1,"Required"),c.Mb())}function h(n,o){1&n&&(c.Nb(0,"ion-note",18),c.kc(1,"Min 3 characters"),c.Mb())}function d(n,o){if(1&n&&(c.Lb(0),c.Nb(1,"ion-item"),c.Jb(2,"ion-icon",16),c.Jb(3,"ion-input",17),c.ic(4,u,2,0,"ion-note",9),c.ic(5,h,2,0,"ion-note",9),c.Mb(),c.Kb()),2&n){const n=c.Xb();c.yb(4),c.cc("ngIf",n.name.dirty&&n.name.hasError("required")),c.yb(1),c.cc("ngIf",n.name.dirty&&n.name.hasError("minlength"))}}function g(n,o){1&n&&(c.Nb(0,"ion-note",18),c.kc(1,"Required"),c.Mb())}function f(n,o){1&n&&(c.Nb(0,"ion-note",18),c.kc(1,"Invalid e-mail"),c.Mb())}function p(n,o){1&n&&(c.Nb(0,"ion-note",18),c.kc(1,"Required"),c.Mb())}function y(n,o){1&n&&(c.Nb(0,"ion-note",18),c.kc(1,"Min 6 characters"),c.Mb())}const k=[{path:"",component:(()=>{class n{constructor(n,o,i,t,e){this.fb=n,this.authService=o,this.navCtrl=i,this.route=t,this.overlayService=e,this.authProviders=a.a,this.configs={isSignIn:!0,action:"Login",actionChange:"Create account"},this.nameControl=new r.b("",[r.j.required,r.j.minLength(3)])}ngOnInit(){this.createForm()}createForm(){this.authForm=this.fb.group({email:["",[r.j.required,r.j.email]],password:["",[r.j.required,r.j.minLength(6)]]})}get name(){return this.authForm.get("name")}get email(){return this.authForm.get("email")}get password(){return this.authForm.get("password")}changeAuthAction(){this.configs.isSignIn=!this.configs.isSignIn;const{isSignIn:n}=this.configs;this.configs.action=n?"Login":"Sign Up",this.configs.actionChange=n?"Create account":"Already have an account",n?this.authForm.removeControl("name"):this.authForm.addControl("name",this.nameControl)}onSubmit(n){return Object(e.a)(this,void 0,void 0,(function*(){const o=yield this.overlayService.loading();try{yield this.authService.authenticate({isSignIn:this.configs.isSignIn,user:this.authForm.value,provider:n}),this.navCtrl.navigateForward(this.route.snapshot.queryParamMap.get("redirect")||"/tasks")}catch(i){console.log("Auth error: "+i),yield this.overlayService.toast({message:i.message})}finally{o.dismiss()}}))}}return n.\u0275fac=function(o){return new(o||n)(c.Ib(r.a),c.Ib(s.a),c.Ib(b.I),c.Ib(t.a),c.Ib(l.a))},n.\u0275cmp=c.Cb({type:n,selectors:[["app-login"]],decls:25,vars:9,consts:[["padding",""],["justify-content-center",""],["size-sm","8","size-md","4","size-lg","3","size-xl","3"],[1,"ion-text-center"],["name","checkmark-done-sharp","color","primary",1,"icon-7em"],[3,"formGroup","submit"],[4,"ngIf"],["name","mail","color","primary","slot","start"],["type","email","placeholder","E-mail","formControlName","email","inputmode","email","autofocus","true"],["slot","end","color","danger",4,"ngIf"],["name","lock-closed","color","primary","slot","start"],["type","password","placeholder","Password","formControlName","password"],["expand","block","type","submit",3,"disabled"],["expand","block","fill","clear",3,"click"],["expand","block",3,"click"],["name","logo-facebook","slot","start"],["name","person","color","primary","slot","start"],["type","text","placeholder","Name","formControlName","name"],["slot","end","color","danger"]],template:function(n,o){1&n&&(c.Nb(0,"ion-content",0),c.Nb(1,"ion-grid"),c.Nb(2,"ion-row",1),c.Nb(3,"ion-col",2),c.Nb(4,"h1",3),c.Jb(5,"ion-icon",4),c.Mb(),c.Nb(6,"form",5),c.Vb("submit",(function(){return o.onSubmit(o.authProviders.Email)})),c.ic(7,d,6,2,"ng-container",6),c.Nb(8,"ion-item"),c.Jb(9,"ion-icon",7),c.Jb(10,"ion-input",8),c.ic(11,g,2,0,"ion-note",9),c.ic(12,f,2,0,"ion-note",9),c.Mb(),c.Nb(13,"ion-item"),c.Jb(14,"ion-icon",10),c.Jb(15,"ion-input",11),c.ic(16,p,2,0,"ion-note",9),c.ic(17,y,2,0,"ion-note",9),c.Mb(),c.Nb(18,"ion-button",12),c.kc(19),c.Mb(),c.Mb(),c.Nb(20,"ion-button",13),c.Vb("click",(function(){return o.changeAuthAction()})),c.kc(21),c.Mb(),c.Nb(22,"ion-button",14),c.Vb("click",(function(){return o.onSubmit(o.authProviders.Facebook)})),c.Jb(23,"ion-icon",15),c.kc(24," Login with Facebook "),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb()),2&n&&(c.yb(6),c.cc("formGroup",o.authForm),c.yb(1),c.cc("ngIf",!o.configs.isSignIn),c.yb(4),c.cc("ngIf",o.email.dirty&&o.email.hasError("required")),c.yb(1),c.cc("ngIf",o.email.dirty&&o.email.hasError("email")),c.yb(4),c.cc("ngIf",o.password.dirty&&o.password.hasError("required")),c.yb(1),c.cc("ngIf",o.password.dirty&&o.password.hasError("minlength")),c.yb(1),c.cc("disabled",o.authForm.invalid),c.yb(1),c.lc(o.configs.action),c.yb(2),c.lc(o.configs.actionChange))},directives:[b.h,b.k,b.z,b.g,b.m,r.k,r.h,r.d,m.j,b.o,b.n,b.L,r.g,r.c,b.e,b.x],styles:[""]}),n})()}];let v=(()=>{class n{}return n.\u0275mod=c.Gb({type:n}),n.\u0275inj=c.Fb({factory:function(o){return new(o||n)},imports:[[t.i.forChild(k)],t.i]}),n})();var I=i("PCNd");let N=(()=>{class n{}return n.\u0275mod=c.Gb({type:n}),n.\u0275inj=c.Fb({factory:function(o){return new(o||n)},imports:[[I.a,v]]}),n})()}}]);